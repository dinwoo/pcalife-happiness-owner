{"version":3,"sources":["index.js"],"names":["isMobile","$","window","width","controller","ScrollMagic","Controller","verifyNumber","number","test","verifyId","id","checkWid","windowSize","mobileFun","desktopFun","setCarousel","ValidateValue","textbox","textboxvalue","value","index","length","s","charAt","indexOf","substring","setAnimate","TweenMax","set","opacity","y","x","doAnimate","TimelineMax","add","to","delay","triggerElement","offset","reverse","tween","Scene","indicator","setTween","addTo","sweetAlertError","msg","Swal","fire","icon","title","text","resize","document","ready","infoOwl","owlCarousel","nav","dots","loop","items","center","autoHeight","margin","onInitialize","event","fadeIn","addClass","onChanged","page","concat","fadeOut","removeClass","on","trigger","val","undefined","is","ajax","url","type","data","name","phone","isPcalife","identityNumber","currentAge","retireAge","lifeSpan","totalAssets","salary","incomeReplacementRatio","inflation","totalInvest","requiredAmount","calcRequiredAmount","shortage","calcShortage","rspResult","calcPMT","success","e","code","prop","error","err"],"mappings":"aAAA,IAAIA,SAA+B,IAApBC,EAAEC,QAAQC,QACrBC,WAAa,IAAIC,YAAYC,WAOjC,SAASC,aAAaC,GAEpB,MADoB,WACDC,KAAKD,GAG1B,SAASE,SAASC,GAEhB,MADgB,gCACDF,KAAKE,GAGtB,SAASC,SAASC,GACZA,EAAa,MAAQb,UACvBA,UAAW,EACXc,aACsB,IAAbD,GAAoBb,WAC7BA,UAAW,EACXe,cAIJ,SAASD,aAET,SAASC,cAET,SAASC,eAET,SAASC,cAAcC,GACrB,IAEIC,EAAeD,EAAQE,MACvBC,EAAQF,EAAaG,OAAS,EAC9BC,EAAIL,EAAQE,MAAMI,OAAOH,GACG,GAJ9B,+DAIgBI,QAAQF,KACxBA,EAAIJ,EAAaO,UAAU,EAAGL,GAC9BH,EAAQE,MAAQG,GAIpB,SAASI,aACPC,SAASC,IACP,mRACA,CACEC,QAAS,EACTC,EAAG,KAGPH,SAASC,IAAI,0CAA2C,CACtDC,QAAS,IAEXF,SAASC,IAAI,mBAAoB,CAC/BC,QAAS,EACTE,GAAI,MAENJ,SAASC,IAAI,oBAAqB,CAChCC,QAAS,EACTE,EAAG,MAILC,WACE,IAAIC,aACDC,IACCP,SAASQ,GAAG,wBAAyB,GAAK,CACxCN,QAAS,EACTC,EAAG,KAGNI,IACCP,SAASQ,GAAG,mBAAoB,GAAK,CACnCN,QAAS,EACTE,EAAG,KAGNG,IACCP,SAASQ,GAAG,oBAAqB,GAAK,CACpCN,QAAS,EACTE,EAAG,EACHK,OAAQ,MAGXF,IACCP,SAASQ,GAAG,yBAA0B,EAAG,CACvCN,QAAS,KAGZK,IACCP,SAASQ,GAAG,mBAAoB,GAAK,CACnCN,QAAS,EACTO,MAAO,MAGb,CACEC,eAAgB,UAChBC,OAAQ,EACRC,SAAS,GAEX,UAIJ,SAASP,UAAUQ,EAAOC,EAAOC,GAC/B,OACE,IAAItC,YAAYqC,MAAMA,GACnBE,SAASH,GAETI,MAAMzC,YAIb,SAAS0C,gBAAgBC,GAMvB,OALAC,KAAKC,KAAK,CACRC,KAAM,QACNC,MAAO,UACPC,KAAML,KAED,EAxHT9C,EAAEC,QAAQmD,OAAO,WAEfzC,SADiBX,EAAEC,QAAQC,WA0H7BF,EAAEqD,UAAUC,MAAM,WAChB3C,SAASX,EAAEC,QAAQC,SAGnB,IAAIqD,EAAUvD,EAAE,kBAAkBwD,YAAY,CAC5CC,KAAK,EACLC,MAAM,EACNC,MAAM,EACNC,MAAO,EACPC,QAAQ,EACRC,YAAY,EACZC,OAAQ,GACRC,aAAc,SAACC,GACbjE,EAAC,sBAAuBkE,SACxBlE,EAAE,gBAAgBmD,KAAlB,MACAnD,EAAE,kBAAkBmE,SAAS,aAE/BC,UAAW,SAACH,GAEc,GAApBA,EAAMI,KAAKjD,QACbpB,EAAE,gBAAgBmD,KAAlB,IAAAmB,OAA2BL,EAAMI,KAAKjD,MAAQ,IAC9CpB,EAAE,yBAAyBuE,UAC3BvE,EAAC,oBAAAsE,OAAqBL,EAAMI,KAAKjD,MAAQ,IAAK8C,UAE5CD,EAAMI,KAAKjD,OAAS,EACtBpB,EAAE,kBAAkBmE,SAAS,YACA,GAApBF,EAAMI,KAAKjD,MACpBpB,EAAE,mBAAmBmE,SAAS,aAE9BnE,EAAE,kBAAkBwE,YAAY,YAChCxE,EAAE,mBAAmBwE,YAAY,gBAIvCxE,EAAE,kBAAkByE,GAAG,QAAS,WAC9BlB,EAAQmB,QAAQ,uBAElB1E,EAAE,mBAAmByE,GAAG,QAAS,WAC/BlB,EAAQmB,QAAQ,uBAGlB1E,EAAE,YAAYyE,GAAG,QAAS,WACnBzE,EAAE,SAAS2E,MAGJ3E,EAAE,UAAU2E,OAAUrE,aAAaN,EAAE,UAAU2E,OAGFC,MAA9C5E,EAAE,mCAAmC2E,MAC9C9B,gBAAgB,gBAG8B,KAA9C7C,EAAE,mCAAmC2E,OACnC3E,EAAE,mBAAmB2E,OAAUlE,SAAST,EAAE,mBAAmB2E,OAIrD3E,EAAE,wBAAwB6E,GAAG,YAG7B7E,EAAE,aAAa6E,GAAG,YAI9B7E,EAAE8E,KAAK,CACLC,IAAK,aACLC,KAAM,OACNC,KAAM,CACJC,KAAMlF,EAAE,SAAS2E,MACjBQ,MAAOnF,EAAE,UAAU2E,MACnBS,UAAWpF,EAAE,mCAAmC2E,MAChDU,eAAgBrF,EAAE,mBAAmB2E,MACrCW,WAAAA,WACAC,UAAAA,UACAC,SAAAA,SACAC,YAAAA,YACAC,OAAAA,OACAC,uBAAAA,uBACAC,UAAAA,UACAC,YAAAA,YACAC,eAAgBC,qBAChBC,SAAUC,eACVC,UAAWC,WAEbC,QAAS,SAAUC,GAEF,MAAXA,EAAEC,OACJvD,KAAKC,KAAK,CACRC,KAAM,UACNC,MAAO,WAETlD,EAAE,SAAS2E,IAAI,IACf3E,EAAE,UAAU2E,IAAI,IAChB3E,EAAE,mBAAmB2E,IAAI,IACzB3E,EAAE,wBAAwBuG,KAAK,WAAW,GAC1CvG,EAAE,aAAauG,KAAK,WAAW,IAElB,MAAXF,EAAEC,MACJvD,KAAKC,KAAK,CACRC,KAAM,QACNC,MAAO,UACPC,KAAMkD,EAAEvD,MAGG,OAAXuD,EAAEC,MACJvD,KAAKC,KAAK,CACRC,KAAM,QACNC,MAAO,UACPC,KAAI,UAIVqD,MAAO,SAAUC,GAEf5D,gBAAgB,WArDlBA,gBAAgB,eAHhBA,gBAAgB,qBAHhBA,gBAAgB,mBAThBA,gBAAgB,gBAHhBA,gBAAgB","file":"all.js","sourcesContent":["let isMobile = $(window).width() > 768;\nlet controller = new ScrollMagic.Controller();\n\n$(window).resize(function () {\n  let windowSize = $(window).width();\n  checkWid(windowSize);\n});\n\nfunction verifyNumber(number) {\n  const numberRules = /^[0-9]*$/;\n  return numberRules.test(number);\n}\n\nfunction verifyId(id) {\n  const idRules = /^[A-Za-z]{1}[1-2]{1}[0-9]{8}$/;\n  return idRules.test(id);\n}\n\nfunction checkWid(windowSize) {\n  if (windowSize < 768 && !isMobile) {\n    isMobile = true;\n    mobileFun();\n  } else if (windowSize > 768 && isMobile) {\n    isMobile = false;\n    desktopFun();\n  }\n}\n\nfunction mobileFun() {}\n\nfunction desktopFun() {}\n\nfunction setCarousel() {}\n\nfunction ValidateValue(textbox) {\n  var IllegalString =\n    \"[`~!#$^&*()=|{}':;',\\\\[\\\\]<>/?~！#￥……&*（）——|{}【】‘；：”“'。，、？]‘'\";\n  var textboxvalue = textbox.value;\n  var index = textboxvalue.length - 1;\n  var s = textbox.value.charAt(index);\n  if (IllegalString.indexOf(s) >= 0) {\n    s = textboxvalue.substring(0, index);\n    textbox.value = s;\n  }\n}\n\nfunction setAnimate() {\n  TweenMax.set(\n    \".banner .banner-title,.section01 .title,.section01 .pic,.section02 .title img,.section02 .container,.section03 .title img,.section03 .animate-item,.section04 .wrapper,.section05 .title img,.section05 .form-box,.section06 .title img,.section06 .remind,.section06 .box .item\",\n    {\n      opacity: 0,\n      y: 50,\n    }\n  );\n  TweenMax.set(\".banner .banner-slogan,.banner .dog-box\", {\n    opacity: 0,\n  });\n  TweenMax.set(\".banner .dadnmom\", {\n    opacity: 0,\n    x: -100,\n  });\n  TweenMax.set(\".banner .papamama\", {\n    opacity: 0,\n    x: 100,\n  });\n\n  // 進場動畫\n  doAnimate(\n    new TimelineMax()\n      .add(\n        TweenMax.to(\".banner .banner-title\", 0.6, {\n          opacity: 1,\n          y: 0,\n        })\n      )\n      .add(\n        TweenMax.to(\".banner .dadnmom\", 0.6, {\n          opacity: 1,\n          x: 0,\n        })\n      )\n      .add(\n        TweenMax.to(\".banner .papamama\", 0.6, {\n          opacity: 1,\n          x: 0,\n          delay: -0.6,\n        })\n      )\n      .add(\n        TweenMax.to(\".banner .banner-slogan\", 1, {\n          opacity: 1,\n        })\n      )\n      .add(\n        TweenMax.to(\".banner .dog-box\", 0.6, {\n          opacity: 1,\n          delay: 0.1,\n        })\n      ),\n    {\n      triggerElement: \".banner\",\n      offset: 0, //指標位移\n      reverse: false, //動畫重複 default:true\n    },\n    \"banner\"\n  );\n}\n\nfunction doAnimate(tween, Scene, indicator) {\n  return (\n    new ScrollMagic.Scene(Scene)\n      .setTween(tween)\n      // .addIndicators({ name: indicator }) // 指標顯示\n      .addTo(controller)\n  );\n}\n\nfunction sweetAlertError(msg) {\n  Swal.fire({\n    icon: \"error\",\n    title: \"Oops...\",\n    text: msg,\n  });\n  return false;\n}\n\n$(document).ready(function () {\n  checkWid($(window).width());\n  // setAnimate();\n\n  let infoOwl = $(\"#carouselBox02\").owlCarousel({\n    nav: false,\n    dots: true,\n    loop: false,\n    items: 1,\n    center: true,\n    autoHeight: true,\n    margin: 70,\n    onInitialize: (event) => {\n      $(`.section02 .title1`).fadeIn();\n      $(\"#infoNowPage\").text(`01`);\n      $(\"#infoLeftArrow\").addClass(\"disabled\");\n    },\n    onChanged: (event) => {\n      console.log(event.page.index);\n      if (event.page.index >= 0) {\n        $(\"#infoNowPage\").text(`0${event.page.index + 1}`);\n        $(\".section02 .title-box\").fadeOut();\n        $(`.section02 .title${event.page.index + 1}`).fadeIn();\n      }\n      if (event.page.index <= 0) {\n        $(\"#infoLeftArrow\").addClass(\"disabled\");\n      } else if (event.page.index == 4) {\n        $(\"#infoRightArrow\").addClass(\"disabled\");\n      } else {\n        $(\"#infoLeftArrow\").removeClass(\"disabled\");\n        $(\"#infoRightArrow\").removeClass(\"disabled\");\n      }\n    },\n  });\n  $(\"#infoLeftArrow\").on(\"click\", () => {\n    infoOwl.trigger(\"prev.owl.carousel\");\n  });\n  $(\"#infoRightArrow\").on(\"click\", () => {\n    infoOwl.trigger(\"next.owl.carousel\");\n  });\n\n  $(\"#sendBtn\").on(\"click\", () => {\n    if (!$(\"#name\").val()) {\n      sweetAlertError(\"請填寫姓名\");\n      return;\n    } else if (!$(\"#phone\").val() || !verifyNumber($(\"#phone\").val())) {\n      sweetAlertError(\"請填寫電話及確認格式正確\");\n      return;\n    } else if ($(\"input[name='isPcalife']:checked\").val() == undefined) {\n      sweetAlertError(\"請確認是否已經是保誠保戶\");\n      return;\n    } else if (\n      $(\"input[name='isPcalife']:checked\").val() == \"1\" &&\n      (!$(\"#identityNumber\").val() || !verifyId($(\"#identityNumber\").val()))\n    ) {\n      sweetAlertError(\"請輸入身分證字號及確認格式正確\");\n      return;\n    } else if (!$(\"#personalInformation\").is(\":checked\")) {\n      sweetAlertError(\"請閱讀並同意個人資料告知暨同意事項\");\n      return;\n    } else if (!$(\"#checkBtn\").is(\":checked\")) {\n      sweetAlertError(\"請確認以上資料正確無誤\");\n      return;\n    }\n    $.ajax({\n      url: \"Home/Index\",\n      type: \"post\",\n      data: {\n        name: $(\"#name\").val(),\n        phone: $(\"#phone\").val(),\n        isPcalife: $(\"input[name='isPcalife']:checked\").val(),\n        identityNumber: $(\"#identityNumber\").val(),\n        currentAge,\n        retireAge,\n        lifeSpan,\n        totalAssets,\n        salary,\n        incomeReplacementRatio,\n        inflation,\n        totalInvest,\n        requiredAmount: calcRequiredAmount(),\n        shortage: calcShortage(),\n        rspResult: calcPMT(),\n      },\n      success: function (e) {\n        console.log(e);\n        if (e.code === 200) {\n          Swal.fire({\n            icon: \"success\",\n            title: \"成功送出資料\",\n          });\n          $(\"#name\").val(\"\");\n          $(\"#phone\").val(\"\");\n          $(\"#identityNumber\").val(\"\");\n          $(\"#personalInformation\").prop(\"checked\", false);\n          $(\"#checkBtn\").prop(\"checked\", false);\n        }\n        if (e.code === 500) {\n          Swal.fire({\n            icon: \"error\",\n            title: \"Oops...\",\n            text: e.msg,\n          });\n        }\n        if (e.code === 9999) {\n          Swal.fire({\n            icon: \"error\",\n            title: \"Oops...\",\n            text: `送出失敗`,\n          });\n        }\n      },\n      error: function (err) {\n        console.log(err);\n        sweetAlertError(\"送出失敗\");\n      },\n    });\n  });\n});\n"]}